<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Express Option — Crypto & Copy Trading</title>
  <link rel="icon" type="image/png" href="images/favicon.png" />
  <style>
    :root{
      --bg: #0b0b0b;
      --card: #0f0f10;
      --muted: #bdbdbd;
      --white: #ffffff;
      --accent: #ff7a18;
      --accent-2: #ff9a3a;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
      font-family: Inter, "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    /* Reset / base */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--muted);scroll-behavior:smooth}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* Loading screen */
    #loading-screen {
      position: fixed; inset:0;
      display:flex; align-items:center; justify-content:center; flex-direction:column;
      background: linear-gradient(180deg,#060606,#0b0b0b); z-index:9999; color:var(--white);
    }
    .loader {
      width:64px; height:64px; border-radius:50%;
      border:6px solid rgba(255,255,255,0.08);
      border-top-color: var(--accent);
      animation: spin 900ms linear infinite; margin-bottom:12px;
      box-shadow: 0 6px 30px rgba(255,122,24,0.08);
    }
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    #loading-screen h2{font-size:18px; margin:6px 0 0; color:var(--muted)}

    /* Header / nav */
    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px; padding:16px 36px;
      position:fixed; left:0; right:0; top:0; z-index:60;
      background: linear-gradient(180deg, rgba(11,11,11,0.85), rgba(11,11,11,0.45));
      backdrop-filter: blur(6px); border-bottom:1px solid rgba(255,255,255,0.03);
    }
    .brand{display:flex;gap:12px;align-items:center}
    .logo-img{width:54px;height:54px;object-fit:contain;border-radius:8px;
      filter: drop-shadow(0 0 8px rgba(255,122,24,0.45));
      animation: pulseGlow 3s ease-in-out infinite alternate;}
    @keyframes pulseGlow{0%{filter:drop-shadow(0 0 6px rgba(255,122,24,0.35))}100%{filter:drop-shadow(0 0 14px rgba(255,122,24,0.95))}}
    .brand .title{font-weight:800;color:var(--white);line-height:1}
    .brand .tag{font-size:12px;color:var(--muted)}

    nav{display:flex;gap:18px;align-items:center}
    nav a{color:var(--muted);font-weight:600}
    .cta{background:linear-gradient(90deg,var(--accent),var(--accent-2));padding:9px 14px;border-radius:10px;color:var(--bg);font-weight:800;cursor:pointer}

    /* Hero */
    .hero{
      position:relative;
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:32px;
      align-items:center;
      padding:140px 36px 60px;
      max-width:1200px; margin:0 auto;
      background: url('images/banner-bg.png') center/cover no-repeat;
      /* not fixed, moves with page */
    }
    .hero::after{
      content:''; position:absolute; inset:0;
      background:linear-gradient(180deg,rgba(0,0,0,0.55),rgba(0,0,0,0.65));
      z-index:-1;
    }
    .eyebrow{display:inline-block;padding:6px 10px;border-radius:999px;background:var(--glass);color:var(--accent);font-weight:700;margin-bottom:12px}
    h1{color:var(--white);font-size:44px;margin:0 0 12px;line-height:1.02;text-shadow:0 6px 30px rgba(0,0,0,0.6)}
    .lead{color:var(--muted);font-size:16px;margin:0 0 18px;max-width:56ch}

    .hero .actions{display:flex;gap:12px}
    .hero-card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);color:var(--white)}

    /* Animated small price pulses */
    .price-up{color:#66f26a}
    .price-down{color:#ff6b6b}
    .price{font-weight:800}

    /* Sections */
    section{padding:40px 36px}
    .container{max-width:1200px;margin:0 auto}

    /* Copy trade cards */
    .card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:18px}
    .card{background:var(--card);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);transition:transform .18s,box-shadow .18s}
    .card:hover{transform:translateY(-8px);box-shadow:0 20px 40px rgba(0,0,0,0.6)}
    .avatar{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#fff1e6,#ffd7b0);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--bg)}

    /* Widgets */
    .widgets{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .widget{flex:1;min-width:220px;background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .widget h3{color:var(--accent);margin:0 0 6px}

    /* News */
    .news-list{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:1fr;gap:8px}
    .news-item{background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    .news-item a{color:var(--white);font-weight:700}
    .news-item p{color:var(--muted);margin:6px 0 0;font-size:14px}

    /* Modal */
    .modal-wrap{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:120}
    .modal-back{position:absolute;inset:0;background:rgba(0,0,0,0.6)}
    .modal{position:relative;background:linear-gradient(180deg,#0d0d0d,#0b0b0b);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);width:420px;color:var(--muted);z-index:2}

    /* Chat */
    .chat-toggle{position:fixed;right:20px;bottom:20px;z-index:200}
    .chat-btn{width:64px;height:64px;border-radius:999px;background:linear-gradient(135deg,var(--accent),#ffb47a);display:flex;align-items:center;justify-content:center;box-shadow:0 10px 40px rgba(255,122,24,0.15);border:none;cursor:pointer;font-size:26px}
    .chat-window{position:fixed;right:20px;bottom:96px;width:340px;max-height:520px;background:linear-gradient(180deg,#0d0d0d,#0b0b0b);border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 40px rgba(0,0,0,0.6);overflow:hidden;display:none;flex-direction:column}
    .chat-header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-bottom:1px solid rgba(255,255,255,0.02)}
    .chat-body{padding:12px;overflow:auto;flex:1;display:flex;flex-direction:column;gap:8px}
    .msg{max-width:78%;padding:10px;border-radius:10px}
    .msg.user{align-self:flex-end;background:linear-gradient(90deg,var(--accent),#ff9a3a);color:var(--bg)}
    .msg.bot{align-self:flex-start;background:rgba(255,255,255,0.02);color:var(--muted)}
    .chat-input{display:flex;padding:10px;border-top:1px solid rgba(255,255,255,0.02);gap:8px}
    .chat-input input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--white)}

    /* Footer */
    footer{padding:26px 36px;color:var(--muted);margin-top:36px}

    /* Responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr;padding-top:180px}
      header{padding:12px 18px}
      .hero h1{font-size:32px}
    }
  </style>
</head>
<body>

  <!-- Loading screen -->
  <div id="loading-screen" aria-hidden="false">
    <div class="loader" role="status" aria-label="Loading"></div>
    <h2>Loading Express Option...</h2>
  </div>

  <!-- Header -->
  <header>
    <div class="brand">
      <img src="images/logo.png" alt="Express Option Logo" class="logo-img" />
      <div>
<!--        <div class="title">Express Option</div>-->
<!--        <div class="tag">Copy & Crypto Trading</div>-->
      </div>
    </div>
    <nav>
<!--      <a href="#home">Home</a>-->
      <a href="#about">About</a>
      <a href="#copy">Copy Trade</a>
      <a href="#news">News</a>
<!--      <a href="#widget">Widgets</a>-->
      <a href="soft-ui-dashboard-main/pages/sign-up.html"><button class="cta">Get Started</button></a>
    </nav>
  </header>

  <!-- HERO -->
  <main>
    <section class="hero" id="home" aria-label="Hero">
      <div>
        <span class="eyebrow">Trusted • Transparent • Fast</span>
        <h1>Copy expert traders. Grow together.</h1>
        <p class="lead">Follow top-performing traders or deploy automated strategies. </p>
        <div class="actions">
            <a href="soft-ui-dashboard-main/pages/sign-up.html"> <button class="cta">Create Account</button></a>
          <button style="background:transparent;border:1px solid rgba(255,255,255,0.04);padding:9px 12px;border-radius:10px;color:var(--muted);font-weight:700" onclick="document.getElementById('copy').scrollIntoView({behavior:'smooth'})">Explore Strategies</button>
        </div>
<br/>
     <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/markets/" rel="noopener nofollow" target="_blank"><span class="blue-text"></span></a><span class="trademark"></span></div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
  {
  "symbols": [
    {
      "proName": "FOREXCOM:SPXUSD",
      "title": "S&P 500 Index"
    },
    {
      "proName": "FOREXCOM:NSXUSD",
      "title": "US 100 Cash CFD"
    },
    {
      "proName": "FX_IDC:EURUSD",
      "title": "EUR to USD"
    },
    {
      "proName": "BITSTAMP:BTCUSD",
      "title": "Bitcoin"
    },
    {
      "proName": "BITSTAMP:ETHUSD",
      "title": "Ethereum"
    }
  ],
  "colorTheme": "dark",
  "locale": "en",
  "largeChartUrl": "",
  "isTransparent": false,
  "showSymbolLogo": true,
  "displayMode": "adaptive"
}
  </script>
</div>
<!-- TradingView Widget END -->
      </div>

      <aside class="hero-card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <div style="color:var(--muted);font-weight:700">Wallet Balance</div>
          <div style="color:var(--white);font-weight:800" id="wallet-balance">$12,480.31</div>
        </div>

        <div style="background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.0));padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <div>
            <div style="font-weight:700;color:var(--white)">Open Positions</div>
            <div style="font-size:13px;color:var(--muted);margin-top:6px">3 Trades • 0.8% exposure</div>
          </div>
          <div style="text-align:right">
            <div style="font-weight:800;color:var(--accent)">+2.1%</div>
            <div style="font-size:13px;color:var(--muted)">Today</div>
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:6px">
          <div style="flex:1">
            <button class="cta" style="width:100%" onclick="openCopyModal('AyoJ')">Copy Now</button>
          </div>
          <div style="width:120px;display:flex;flex-direction:column;justify-content:center;align-items:center">
            <div style="font-weight:800;color:var(--white);font-size:20px">0.2%</div>
            <div style="font-size:13px;color:var(--muted)">Fee / Trade</div>
          </div>
        </div>

        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
          <div style="display:flex;gap:8px;align-items:center">
            <div style="padding:8px 10px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02)">BTC <div style="font-size:12px;color:var(--muted);display:inline-block;margin-left:6px" id="mini-btc">--</div></div>
            <div style="padding:8px 10px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02)">ETH <div style="font-size:12px;color:var(--muted);display:inline-block;margin-left:6px" id="mini-eth">--</div></div>
          </div>
          <div style="font-size:12px;color:var(--muted)">Live feed • demo prices</div>
        </div>
      </aside>
    </section>

    <!-- About -->
    <section id="about" class="container">
      <h2 style="color:var(--white);margin-bottom:8px">About Express Option</h2>
      <p style="color:var(--muted);max-width:900px">Express Option is a modern crypto trading and copy-trading platform designed to empower traders with transparency, automation, and a strong community. Copy top traders, deploy automated strategies, and manage risk with advanced controls and real-time analytics.</p>
      <div class="card-grid" style="margin-top:18px">
        <div class="card">
          <div style="font-size:14px;color:var(--muted)">Portfolio APY</div>
          <div style="font-weight:800;color:var(--white);font-size:20px;margin-top:6px">9.2%</div>
        </div>
        <div class="card">
          <div style="font-size:14px;color:var(--muted)">Active Traders</div>
          <div style="font-weight:800;color:var(--white);font-size:20px;margin-top:6px">1,248</div>
        </div>
        <div class="card">
          <div style="font-size:14px;color:var(--muted)">Security</div>
          <div style="font-weight:800;color:var(--white);font-size:20px;margin-top:6px">Bank-level</div>
        </div>
      </div>
    </section>

    <!-- Copy trade -->
    <section id="copy" class="container">
      <h2 style="color:var(--white);margin-bottom:6px">Copy Trading — Top Strategies</h2>
      <p style="color:var(--muted);margin-top:0">Choose a trader, set allocation & drawdown limits, and start copying in seconds.</p>

      <div class="card-grid" style="margin-top:12px">
        <div class="card">
          <div style="display:flex;justify-content:space-between">
            <div style="display:flex;gap:12px;align-items:center">
              <div class="avatar">AJ</div>
              <div>
                <div style="font-weight:800;color:var(--white)">AyoJ — Momentum</div>
                <div style="font-size:13px;color:var(--muted);margin-top:4px">Win rate 72% • 18k followers</div>
              </div>
            </div>
            <div style="text-align:right">
              <div style="font-weight:800;color:var(--accent)">+48.2%</div>
              <div style="font-size:12px;color:var(--muted)">YTD</div>
            </div>
          </div>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="cta" onclick="openCopyModal('AyoJ')">Copy</button>
            <button style="padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)" onclick="viewPerf('AyoJ')">View Perf</button>
          </div>
        </div>

        <div class="card">
          <div style="display:flex;justify-content:space-between">
            <div style="display:flex;gap:12px;align-items:center">
              <div class="avatar">MM</div>
              <div>
                <div style="font-weight:800;color:var(--white)">Mina — Stable Growth</div>
                <div style="font-size:13px;color:var(--muted);margin-top:4px">Win rate 64% • 8k followers</div>
              </div>
            </div>
            <div style="text-align:right">
              <div style="font-weight:800;color:#66f26a">+21.4%</div>
              <div style="font-size:12px;color:var(--muted)">YTD</div>
            </div>
          </div>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="cta" onclick="openCopyModal('Mina')">Copy</button>
            <button style="padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)" onclick="viewPerf('Mina')">View Perf</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Widgets -->
    <section id="widget" class="container">
      <h2 style="color:var(--white);margin-bottom:6px">Crypto Widgets & Tools</h2>
      <p style="color:var(--muted);margin-top:0">Key coin prices and live chart.</p>

      <div class="widgets">
        <div class="widget">
          <h3>Bitcoin (BTC)</h3>
          <div style="font-weight:800;color:var(--white);font-size:20px" id="widget-btc">$--</div>
          <div style="color:var(--muted);margin-top:6px">24h change: <span id="btc-change">--</span></div>
        </div>
        <div class="widget">
          <h3>Ethereum (ETH)</h3>
          <div style="font-weight:800;color:var(--white);font-size:20px" id="widget-eth">$--</div>
          <div style="color:var(--muted);margin-top:6px">24h change: <span id="eth-change">--</span></div>
        </div>
        <div class="widget">
          <h3>Cardano (ADA)</h3>
          <div style="font-weight:800;color:var(--white);font-size:20px" id="widget-ada">$--</div>
          <div style="color:var(--muted);margin-top:6px">24h change: <span id="ada-change">--</span></div>
        </div>
      </div>

      <div style="margin-top:18px">
        <h3 style="color:var(--white)">Live Market Chart</h3>
        <div style="margin-top:10px">
          <iframe src="https://www.tradingview.com/widgetembed/?frameElementId=tradingview_widget&amp;symbol=BITSTAMP:BTCUSD&amp;interval=D&amp;symboledit=1&amp;toolbarbg=f1f3f6&amp;studies=" style="width:100%;height:480px;border:0;"></iframe>
        </div>
      </div>
    </section>

    <!-- News -->
    <section id="news" class="container">
      <h2 style="color:var(--white);margin-bottom:12px">Latest Crypto News</h2>
      <ul class="news-list" id="news-list">
        <li class="news-item">Loading news...</li>
      </ul>
    </section>

    <!-- Signup placeholder -->
    <section id="signup" class="container">
      <h2 style="color:var(--white)">Get Started</h2>
      <p style="color:var(--muted)">Sign up to start copying traders and managing your crypto portfolio. (Signup flow not included in this demo.)</p>
    </section>

    <footer class="container">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px">
        <div>
          <div style="font-weight:800;color:var(--white)">Express Option</div>
          <div style="font-size:12px;color:var(--muted)">© 2025 Express Option. All rights reserved.</div>
        </div>
        <div style="display:flex;gap:12px;align-items:center">
          <a href="#" style="color:var(--muted)">Privacy</a>
          <a href="#" style="color:var(--muted)">Terms</a>
        </div>
      </div>
    </footer>
  </main>

  <!-- Copy Modal -->
  <div class="modal-wrap" id="modal-wrap" aria-hidden="true">
    <div class="modal-back" onclick="closeModal()"></div>
    <div class="modal" role="dialog" aria-modal="true">
      <h3 style="color:var(--white);margin:0 0 8px" id="modal-title">Copy Trader</h3>
      <div id="modal-body" style="color:var(--muted)">Configure allocation and risk controls.</div>
      <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
        <button style="padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)" onclick="closeModal()">Cancel</button>
        <button class="cta" onclick="confirmCopy()">Confirm</button>
      </div>
    </div>
  </div>

  <!-- Chat -->
  <div class="chat-toggle">
    <button class="chat-btn" id="chat-open" title="Live Chat">💬</button>
  </div>

  <div class="chat-window" id="chat-window" role="dialog" aria-hidden="true">
    <div class="chat-header">
      <div style="display:flex;gap:10px;align-items:center">
        <div style="width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#ffb47a);display:flex;align-items:center;justify-content:center;color:var(--bg);font-weight:800">EO</div>
        <div>
          <div style="color:var(--white);font-weight:800">Live Chat</div>
          <div style="font-size:12px;color:var(--muted)">Online •</div>
        </div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button style="background:transparent;border:1px solid rgba(255,255,255,0.03);padding:6px;border-radius:8px;color:var(--muted)" id="chat-minimize">_</button>
        <button style="background:transparent;border:1px solid rgba(255,255,255,0.03);padding:6px;border-radius:8px;color:var(--muted)" id="chat-close">×</button>
      </div>
    </div>

    <div class="chat-body" id="chat-body">
      <div class="msg bot">Hey! 👋 How can I help you with trading or copy trading today?</div>
    </div>

    <div class="chat-input">
      <input id="chat-input" placeholder="Type your message..." aria-label="Chat input">
        <a  href="mailto:expressoptionofficial@gmail.com"><button class="cta" id="chat-send">Send</button></a>
    </div>
  </div>

  <script>
    /* --- Loading screen --- */
    window.addEventListener('load', () => {
      const loader = document.getElementById('loading-screen');
      loader.style.transition = 'opacity 0.7s ease';
      loader.style.opacity = '0';
      setTimeout(()=> loader.style.display = 'none', 700);
    });

    /* --- Simulated live prices + mini ticker --- */
    let prices = { BTC: 60000, ETH: 3000, ADA: 0.40 };
    function randomWalk(val, vol=0.01){
      const delta = (Math.random() - 0.5) * vol * val;
      return Math.max(0.0001, val + delta);
    }
    function updatePrices(){
      prices.BTC = randomWalk(prices.BTC, 0.005);
      prices.ETH = randomWalk(prices.ETH, 0.009);
      prices.ADA = randomWalk(prices.ADA, 0.02);

      // main widgets
      document.getElementById('widget-btc').textContent = '$' + prices.BTC.toFixed(2);
      document.getElementById('widget-eth').textContent = '$' + prices.ETH.toFixed(2);
      document.getElementById('widget-ada').textContent = '$' + prices.ADA.toFixed(4);

      // mini snapshot in hero
      document.getElementById('mini-btc').innerText = prices.BTC.toFixed(2);
      document.getElementById('mini-eth').innerText = prices.ETH.toFixed(2);

      // small ticker
      const ticker = document.getElementById('mini-ticker');
      ticker.innerHTML = '';
      [['BTC', prices.BTC], ['ETH', prices.ETH], ['ADA', prices.ADA]].forEach(([k,v],i)=>{
        const el = document.createElement('div');
        el.style.display='flex';
        el.style.gap='8px';
        el.style.padding='6px 8px';
        el.style.borderRadius='8px';
        el.style.background='rgba(255,255,255,0.02)';
        el.innerHTML = `<strong style="color:var(--white)">${k}</strong><span style="color:var(--muted)">$${(typeof v === "number" && k!=='ADA') ? v.toFixed(2) : (typeof v === "number" ? v.toFixed(4) : v)}</span>`;
        ticker.appendChild(el);
      });
    }
    updatePrices();
    setInterval(updatePrices, 2200);

    /* --- Copy modal --- */
    function openCopyModal(name){
      document.getElementById('modal-wrap').style.display='flex';
      document.getElementById('modal-wrap').setAttribute('aria-hidden','false');
      document.getElementById('modal-title').textContent = 'Copy ' + name;
      document.getElementById('modal-body').innerHTML = `
        <div style="color:var(--muted);margin-top:6px">You are about to copy <strong style="color:var(--white)">${name}</strong>.</div>
        <div style="margin-top:10px;color:var(--muted)">Allocation (%) <input id="alloc" type="number" min="1" max="100" value="10" style="width:80px;margin-left:8px;padding:6px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--white)"></div>
        <div style="margin-top:8px;color:var(--muted)">Max drawdown protection: <select id="dd" style="margin-left:8px;padding:6px;border-radius:8px;background:transparent;color:var(--white);border:1px solid rgba(255,255,255,0.03)"><option>10%</option><option>15%</option><option>20%</option></select></div>
      `;
    }
    function closeModal(){ document.getElementById('modal-wrap').style.display='none'; document.getElementById('modal-wrap').setAttribute('aria-hidden','true'); }
    function confirmCopy(){
      const alloc = document.getElementById('alloc') ? document.getElementById('alloc').value : 10;
      closeModal();
      alert('Confirmed copying with allocation ' + alloc + '% (demo).');
    }

    function viewPerf(name){ alert(name + ' performance (demo).'); }
    function openSignup(){ document.getElementById('signup').scrollIntoView({behavior:'smooth'}) }

    /* --- Chat logic (demo) --- */
    const chatOpen = document.getElementById('chat-open');
    const chatWindow = document.getElementById('chat-window');
    const chatClose = document.getElementById('chat-close');
    const chatMin = document.getElementById('chat-minimize');
    const chatSend = document.getElementById('chat-send');
    const chatBody = document.getElementById('chat-body');
    const chatInput = document.getElementById('chat-input');

    chatOpen.addEventListener('click', ()=>{ chatWindow.style.display='flex'; chatOpen.style.display='none'; scrollChat(); });
    chatClose.addEventListener('click', ()=>{ chatWindow.style.display='none'; chatOpen.style.display='inline-flex'; });
    chatMin.addEventListener('click', ()=>{ chatWindow.style.display='none'; chatOpen.style.display='inline-flex'; });

    function appendMessage(text, from='bot'){
      const d = document.createElement('div'); d.className='msg ' + (from==='user'?'user':'bot'); d.textContent = text; chatBody.appendChild(d); scrollChat();
    }
    function scrollChat(){ chatBody.scrollTop = chatBody.scrollHeight; }
    chatSend.addEventListener('click', sendChat);
    chatInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') sendChat(); });

    function sendChat(){
      const v = chatInput.value.trim(); if(!v) return; appendMessage(v,'user'); chatInput.value=''; setTimeout(()=>{ appendMessage('Steeve: Thanks — we received your message: "'+v+'". An agent will reply shortly.','bot'); }, 900);
    }

    /* --- Crypto news fetch (CryptoCompare public endpoint) --- */
    async function fetchNews(){
      const list = document.getElementById('news-list');
      try{
        list.innerHTML = '<li class="news-item">Loading news...</li>';
        const res = await fetch('https://min-api.cryptocompare.com/data/v2/news/?lang=EN');
        if(!res.ok) throw new Error('Network response not ok');
        const json = await res.json();
        const data = Array.isArray(json.Data) ? json.Data.slice(0,6) : [];
        if(data.length === 0) { list.innerHTML = '<li class="news-item">No news available.</li>'; return; }
        list.innerHTML = '';
        data.forEach(item=>{
          const li = document.createElement('li'); li.className='news-item';
          const title = document.createElement('a'); title.href = item.url; title.target='_blank'; title.rel='noopener'; title.textContent = item.title;
          const p = document.createElement('p'); p.textContent = (item.body || '').replace(/<\/?[^>]+(>|$)/g, '').slice(0,140) + '...';
          li.appendChild(title); li.appendChild(p);
          list.appendChild(li);
        });
      }catch(err){
        console.error('news error',err);
        list.innerHTML = '<li class="news-item">Unable to load news at this time.</li>';
      }
    }
    fetchNews();
    setInterval(fetchNews, 60000);

    /* Accessibility: escape closes modal and chat */
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ closeModal(); chatWindow.style.display='none'; chatOpen.style.display='inline-flex'; } });
  </script>
</body>
</html>
